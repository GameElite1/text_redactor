import React, { useState, useEffect, useCallback } from 'react';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { CheckCircle, XCircle, BookOpen, X } from 'lucide-react';

interface SpellCheckerProps {
  isOpen: boolean;
  onClose: () => void;
  content: string;
}

interface SpellError {
  word: string;
  position: number;
  suggestions: string[];
}

// –û–±—à–∏—Ä–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤ —Å –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏
const russianDict = new Set([
  // –°–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è
  '–∏', '–≤', '–Ω–µ', '–Ω–∞', '—è', '–±—ã—Ç—å', '–æ–Ω', '–æ–Ω–∞', '–æ–Ω–æ', '–æ–Ω–∏', '–º—ã', '–≤—ã', '—Ç—ã', '—Å', '—á—Ç–æ', '–∞', '–ø–æ', '—ç—Ç–æ', '—ç—Ç–æ—Ç', '—ç—Ç–∞', '—ç—Ç–∏', '–∫', '–Ω–æ', '–∫–∞–∫', '–∏–∑', '—É', '–∫–æ—Ç–æ—Ä—ã–π', '–∫–æ—Ç–æ—Ä–∞—è', '–∫–æ—Ç–æ—Ä–æ–µ', '–∫–æ—Ç–æ—Ä—ã–µ', '—Ç–æ', '—Ç–∞', '—Ç–µ', '–∑–∞', '—Å–≤–æ–π', '—Å–≤–æ—è', '—Å–≤–æ—ë', '—Å–≤–æ–∏', '–µ—ë', '–µ–≥–æ', '–∏—Ö', '—Ç–∞–∫', '–µ—Å–ª–∏', '–æ', '–æ–±', '–æ—Ç', '–¥–æ', '–¥–ª—è', '–¥–∞', '–Ω–µ—Ç', '—É–∂', '–∏–ª–∏', '–Ω–∏', '–ø—Ä–∏', '–Ω–∞–¥', '–ø–æ–¥', '—Ç–∞–º', '—Ç—É—Ç', '–≥–¥–µ', '–∫—É–¥–∞', '–æ—Ç–∫—É–¥–∞', '–∫–æ–≥–¥–∞', '–ø–æ—á–µ–º—É', '–∑–∞—á–µ–º', '—á—Ç–æ–±—ã', '—á—Ç–æ', '—á–µ–≥–æ', '—á–µ–º—É', '—á–µ–º', '—á—ë–º',
  
  // Numbers
  '–æ–¥–∏–Ω', '–æ–¥–Ω–∞', '–æ–¥–Ω–æ', '–æ–¥–Ω–∏', '–æ–¥–Ω–æ–≥–æ', '–æ–¥–Ω–æ–π', '–æ–¥–Ω–æ–º—É', '–æ–¥–Ω–∏–º', '–æ–¥–Ω–æ–º', '–¥–≤–∞', '–¥–≤–µ', '–¥–≤—É—Ö', '–¥–≤—É–º', '–¥–≤—É–º—è', '—Ç—Ä–∏', '—Ç—Ä—ë—Ö', '—Ç—Ä—ë–º', '—Ç—Ä–µ–º—è', '—á–µ—Ç—ã—Ä–µ', '—á–µ—Ç—ã—Ä—ë—Ö', '—á–µ—Ç—ã—Ä—ë–º', '—á–µ—Ç—ã—Ä—å–º—è', '–ø—è—Ç—å', '–ø—è—Ç–∏', '–ø—è—Ç—å—é', '—à–µ—Å—Ç—å', '—à–µ—Å—Ç–∏', '—à–µ—Å—Ç—å—é', '—Å–µ–º—å', '—Å–µ–º–∏', '—Å–µ–º—å—é', '–≤–æ—Å–µ–º—å', '–≤–æ—Å—å–º–∏', '–≤–æ—Å–µ–º—å—é', '–¥–µ–≤—è—Ç—å', '–¥–µ–≤—è—Ç–∏', '–¥–µ–≤—è—Ç—å—é', '–¥–µ—Å—è—Ç—å', '–¥–µ—Å—è—Ç–∏', '–¥–µ—Å—è—Ç—å—é', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—å', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '—Å–æ—Ä–æ–∫', '–ø—è—Ç—å–¥–µ—Å—è—Ç', '—à–µ—Å—Ç—å–¥–µ—Å—è—Ç', '—Å–µ–º—å–¥–µ—Å—è—Ç', '–≤–æ—Å–µ–º—å–¥–µ—Å—è—Ç', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ', '—Å—Ç–æ', '—Ç—ã—Å—è—á–∞', '–º–∏–ª–ª–∏–æ–Ω', 
  
  // –ì–ª–∞–≥–æ–ª "–±—ã—Ç—å" - –≤—Å–µ —Ñ–æ—Ä–º—ã
  '–±—ã—Ç—å', '–µ—Å—Ç—å', '–±—ã–ª', '–±—ã–ª–∞', '–±—ã–ª–æ', '–±—ã–ª–∏', '–±—É–¥—É', '–±—É–¥–µ—à—å', '–±—É–¥–µ—Ç', '–±—É–¥–µ–º', '–±—É–¥–µ—Ç–µ', '–±—É–¥—É—Ç', '–±—É–¥–∏', '–±—É–¥—å—Ç–µ', '–±—É–¥—É—á–∏', '–±—ã–≤—à–∏–π', '–±—ã–≤—à–∞—è', '–±—ã–≤—à–µ–µ', '–±—ã–≤—à–∏–µ',
  
  // –ì–ª–∞–≥–æ–ª "–∏–º–µ—Ç—å"
  '–∏–º–µ—Ç—å', '–∏–º–µ—é', '–∏–º–µ–µ—à—å', '–∏–º–µ–µ—Ç', '–∏–º–µ–µ–º', '–∏–º–µ–µ—Ç–µ', '–∏–º–µ—é—Ç', '–∏–º–µ–ª', '–∏–º–µ–ª–∞', '–∏–º–µ–ª–æ', '–∏–º–µ–ª–∏', '–∏–º–µ–π', '–∏–º–µ–π—Ç–µ', '–∏–º–µ—è', '–∏–º–µ–≤—à–∏–π', '–∏–º–µ–≤—à–∞—è', '–∏–º–µ–≤—à–µ–µ', '–∏–º–µ–≤—à–∏–µ',
  
  // –ì–ª–∞–≥–æ–ª "–º–æ—á—å"
  '–º–æ—á—å', '–º–æ–≥—É', '–º–æ–∂–µ—à—å', '–º–æ–∂–µ—Ç', '–º–æ–∂–µ–º', '–º–æ–∂–µ—Ç–µ', '–º–æ–≥—É—Ç', '–º–æ–≥', '–º–æ–≥–ª–∞', '–º–æ–≥–ª–æ', '–º–æ–≥–ª–∏', '–º–æ—á—å', '–º–æ–≥—É—â–∏–π', '–º–æ–≥—É—â–∞—è', '–º–æ–≥—É—â–µ–µ', '–º–æ–≥—É—â–∏–µ',
  
  // –ì–ª–∞–≥–æ–ª "—Å–∫–∞–∑–∞—Ç—å/–≥–æ–≤–æ—Ä–∏—Ç—å"
  '—Å–∫–∞–∑–∞—Ç—å', '–≥–æ–≤–æ—Ä–∏—Ç—å', '—Å–∫–∞–∂—É', '—Å–∫–∞–∂–µ—à—å', '—Å–∫–∞–∂–µ—Ç', '—Å–∫–∞–∂–µ–º', '—Å–∫–∞–∂–µ—Ç–µ', '—Å–∫–∞–∂—É—Ç', '—Å–∫–∞–∑–∞–ª', '—Å–∫–∞–∑–∞–ª–∞', '—Å–∫–∞–∑–∞–ª–æ', '—Å–∫–∞–∑–∞–ª–∏', '–≥–æ–≤–æ—Ä—é', '–≥–æ–≤–æ—Ä–∏—à—å', '–≥–æ–≤–æ—Ä–∏—Ç', '–≥–æ–≤–æ—Ä–∏–º', '–≥–æ–≤–æ—Ä–∏—Ç–µ', '–≥–æ–≤–æ—Ä—è—Ç', '–≥–æ–≤–æ—Ä–∏–ª', '–≥–æ–≤–æ—Ä–∏–ª–∞', '–≥–æ–≤–æ—Ä–∏–ª–æ', '–≥–æ–≤–æ—Ä–∏–ª–∏', '—Å–∫–∞–∂–∏', '—Å–∫–∞–∂–∏—Ç–µ', '–≥–æ–≤–æ—Ä–∏', '–≥–æ–≤–æ—Ä–∏—Ç–µ', '—Å–∫–∞–∑–∞–≤', '–≥–æ–≤–æ—Ä—è', '—Å–∫–∞–∑–∞–≤—à–∏–π', '–≥–æ–≤–æ—Ä–∏–≤—à–∏–π', '—Å–∫–∞–∑–∞–Ω–Ω—ã–π', '–≥–æ–≤–æ—Ä–∏–º—ã–π',
  
  // –ì–ª–∞–≥–æ–ª "–∑–Ω–∞—Ç—å"
  '–∑–Ω–∞—Ç—å', '–∑–Ω–∞—é', '–∑–Ω–∞–µ—à—å', '–∑–Ω–∞–µ—Ç', '–∑–Ω–∞–µ–º', '–∑–Ω–∞–µ—Ç–µ', '–∑–Ω–∞—é—Ç', '–∑–Ω–∞–ª', '–∑–Ω–∞–ª–∞', '–∑–Ω–∞–ª–æ', '–∑–Ω–∞–ª–∏', '–∑–Ω–∞–π', '–∑–Ω–∞–π—Ç–µ', '–∑–Ω–∞—è', '–∑–Ω–∞–≤—à–∏–π', '–∑–Ω–∞–µ–º—ã–π', '–∑–Ω–∞–∫–æ–º—ã–π', '–∑–Ω–∞–∫–æ–º–∞—è', '–∑–Ω–∞–∫–æ–º–æ–µ', '–∑–Ω–∞–∫–æ–º—ã–µ',
  
  // –ì–ª–∞–≥–æ–ª "—Ö–æ—Ç–µ—Ç—å"
  '—Ö–æ—Ç–µ—Ç—å', '—Ö–æ—á—É', '—Ö–æ—á–µ—à—å', '—Ö–æ—á–µ—Ç', '—Ö–æ—Ç–∏–º', '—Ö–æ—Ç–∏—Ç–µ', '—Ö–æ—Ç—è—Ç', '—Ö–æ—Ç–µ–ª', '—Ö–æ—Ç–µ–ª–∞', '—Ö–æ—Ç–µ–ª–æ', '—Ö–æ—Ç–µ–ª–∏', '—Ö–æ—Ç–∏', '—Ö–æ—Ç–∏—Ç–µ', '—Ö–æ—Ç—è', '—Ö–æ—Ç–µ–≤—à–∏–π', '—Ö–æ—Ç–∏–º—ã–π',
  
  // –ì–ª–∞–≥–æ–ª "–≤–∏–¥–µ—Ç—å"
  '–≤–∏–¥–µ—Ç—å', '–≤–∏–∂—É', '–≤–∏–¥–∏—à—å', '–≤–∏–¥–∏—Ç', '–≤–∏–¥–∏–º', '–≤–∏–¥–∏—Ç–µ', '–≤–∏–¥—è—Ç', '–≤–∏–¥–µ–ª', '–≤–∏–¥–µ–ª–∞', '–≤–∏–¥–µ–ª–æ', '–≤–∏–¥–µ–ª–∏', '–≤–∏–¥–∏', '–≤–∏–¥—å—Ç–µ', '–≤–∏–¥—è', '–≤–∏–¥–µ–≤—à–∏–π', '–≤–∏–¥–∏–º—ã–π', '–≤–∏–¥–Ω—ã–π', '–≤–∏–¥–Ω–∞—è', '–≤–∏–¥–Ω–æ–µ', '–≤–∏–¥–Ω—ã–µ',
  
  // –ì–ª–∞–≥–æ–ª "–∂–∏—Ç—å"
  '–∂–∏—Ç—å', '–∂–∏–≤—É', '–∂–∏–≤—ë—à—å', '–∂–∏–≤—ë—Ç', '–∂–∏–≤—ë–º', '–∂–∏–≤—ë—Ç–µ', '–∂–∏–≤—É—Ç', '–∂–∏–ª', '–∂–∏–ª–∞', '–∂–∏–ª–æ', '–∂–∏–ª–∏', '–∂–∏–≤–∏', '–∂–∏–≤–∏—Ç–µ', '–∂–∏–≤—è', '–∂–∏–≤—à–∏–π', '–∂–∏–≤–æ–π', '–∂–∏–≤–∞—è', '–∂–∏–≤–æ–µ', '–∂–∏–≤—ã–µ',
  
  // –ì–ª–∞–≥–æ–ª "—Å—Ç–∞—Ç—å"
  '—Å—Ç–∞—Ç—å', '—Å—Ç–∞–Ω—É', '—Å—Ç–∞–Ω–µ—à—å', '—Å—Ç–∞–Ω–µ—Ç', '—Å—Ç–∞–Ω–µ–º', '—Å—Ç–∞–Ω–µ—Ç–µ', '—Å—Ç–∞–Ω—É—Ç', '—Å—Ç–∞–ª', '—Å—Ç–∞–ª–∞', '—Å—Ç–∞–ª–æ', '—Å—Ç–∞–ª–∏', '—Å—Ç–∞–Ω—å', '—Å—Ç–∞–Ω—å—Ç–µ', '—Å—Ç–∞–≤', '—Å—Ç–∞–≤—à–∏–π',
  
  // –ì–ª–∞–≥–æ–ª "–¥–µ–ª–∞—Ç—å"
  '–¥–µ–ª–∞—Ç—å', '–¥–µ–ª–∞—é', '–¥–µ–ª–∞–µ—à—å', '–¥–µ–ª–∞–µ—Ç', '–¥–µ–ª–∞–µ–º', '–¥–µ–ª–∞–µ—Ç–µ', '–¥–µ–ª–∞—é—Ç', '–¥–µ–ª–∞–ª', '–¥–µ–ª–∞–ª–∞', '–¥–µ–ª–∞–ª–æ', '–¥–µ–ª–∞–ª–∏', '–¥–µ–ª–∞–π', '–¥–µ–ª–∞–π—Ç–µ', '–¥–µ–ª–∞—è', '–¥–µ–ª–∞–≤—à–∏–π', '–¥–µ–ª–∞–µ–º—ã–π', '–¥–µ–ª–æ', '–¥–µ–ª–∞', '–¥–µ–ª—É', '–¥–µ–ª–æ–º', '–¥–µ–ª–µ',
  
  // –ì–ª–∞–≥–æ–ª "—Ä–∞–±–æ—Ç–∞—Ç—å"
  '—Ä–∞–±–æ—Ç–∞—Ç—å', '—Ä–∞–±–æ—Ç–∞—é', '—Ä–∞–±–æ—Ç–∞–µ—à—å', '—Ä–∞–±–æ—Ç–∞–µ—Ç', '—Ä–∞–±–æ—Ç–∞–µ–º', '—Ä–∞–±–æ—Ç–∞–µ—Ç–µ', '—Ä–∞–±–æ—Ç–∞—é—Ç', '—Ä–∞–±–æ—Ç–∞–ª', '—Ä–∞–±–æ—Ç–∞–ª–∞', '—Ä–∞–±–æ—Ç–∞–ª–æ', '—Ä–∞–±–æ—Ç–∞–ª–∏', '—Ä–∞–±–æ—Ç–∞–π', '—Ä–∞–±–æ—Ç–∞–π—Ç–µ', '—Ä–∞–±–æ—Ç–∞—è', '—Ä–∞–±–æ—Ç–∞–≤—à–∏–π', '—Ä–∞–±–æ—Ç–∞', '—Ä–∞–±–æ—Ç—ã', '—Ä–∞–±–æ—Ç–µ', '—Ä–∞–±–æ—Ç—É', '—Ä–∞–±–æ—Ç–æ–π', '—Ä–∞–±–æ—Ç–∞—Ö',
  
  // –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Å –ø–∞–¥–µ–∂–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞–º–∏
  '—á–µ–ª–æ–≤–µ–∫', '–ª—é–¥–∏', '—á–µ–ª–æ–≤–µ–∫–∞', '–ª—é–¥–µ–π', '—á–µ–ª–æ–≤–µ–∫—É', '–ª—é–¥—è–º', '—á–µ–ª–æ–≤–µ–∫–æ–º', '–ª—é–¥—å–º–∏', '—á–µ–ª–æ–≤–µ–∫–µ', '–ª—é–¥—è—Ö',
  '–º—É–∂—á–∏–Ω–∞', '–º—É–∂—á–∏–Ω—ã', '–º—É–∂—á–∏–Ω–µ', '–º—É–∂—á–∏–Ω—É', '–º—É–∂—á–∏–Ω–æ–π', '–º—É–∂—á–∏–Ω–∞—Ö',
  '–∂–µ–Ω—â–∏–Ω–∞', '–∂–µ–Ω—â–∏–Ω—ã', '–∂–µ–Ω—â–∏–Ω–µ', '–∂–µ–Ω—â–∏–Ω—É', '–∂–µ–Ω—â–∏–Ω–æ–π', '–∂–µ–Ω—â–∏–Ω–∞—Ö',
  '—Ä–µ–±—ë–Ω–æ–∫', '–¥–µ—Ç–∏', '—Ä–µ–±—ë–Ω–∫–∞', '–¥–µ—Ç–µ–π', '—Ä–µ–±—ë–Ω–∫—É', '–¥–µ—Ç—è–º', '—Ä–µ–±—ë–Ω–∫–æ–º', '–¥–µ—Ç—å–º–∏', '—Ä–µ–±—ë–Ω–∫–µ', '–¥–µ—Ç—è—Ö',
  '—Å–µ–º—å—è', '—Å–µ–º—å–∏', '—Å–µ–º—å–µ', '—Å–µ–º—å—é', '—Å–µ–º—å—ë–π', '—Å–µ–º—å—è—Ö',
  '–¥–æ–º', '–¥–æ–º–∞', '–¥–æ–º—É', '–¥–æ–º–æ–º', '–¥–æ–º–µ', '–¥–æ–º–æ–≤', '–¥–æ–º–∞–º', '–¥–æ–º–∞–º–∏', '–¥–æ–º–∞—Ö',
  
  // –í—Ä–µ–º—è
  '–¥–µ–Ω—å', '–¥–Ω—è', '–¥–Ω—é', '–¥–Ω—ë–º', '–¥–Ω–µ', '–¥–Ω–∏', '–¥–Ω–µ–π', '–¥–Ω—è–º', '–¥–Ω—è–º–∏', '–¥–Ω—è—Ö',
  '–Ω–æ—á—å', '–Ω–æ—á–∏', '–Ω–æ—á—å—é', '–Ω–æ—á–µ–π', '–Ω–æ—á–∞–º', '–Ω–æ—á–∞–º–∏', '–Ω–æ—á–∞—Ö',
  '—É—Ç—Ä–æ', '—É—Ç—Ä–∞', '—É—Ç—Ä—É', '—É—Ç—Ä–æ–º', '—É—Ç—Ä–µ', '—É—Ç–µ—Ä', '—É—Ç—Ä–∞–º', '—É—Ç—Ä–∞–º–∏', '—É—Ç—Ä–∞—Ö',
  '–≤–µ—á–µ—Ä', '–≤–µ—á–µ—Ä–∞', '–≤–µ—á–µ—Ä—É', '–≤–µ—á–µ—Ä–æ–º', '–≤–µ—á–µ—Ä–µ', '–≤–µ—á–µ—Ä–æ–≤', '–≤–µ—á–µ—Ä–∞–º', '–≤–µ—á–µ—Ä–∞–º–∏', '–≤–µ—á–µ—Ä–∞—Ö',
  '–≤—Ä–µ–º—è', '–≤—Ä–µ–º–µ–Ω–∏', '–≤—Ä–µ–º–µ–Ω–µ–º', '–≤—Ä–µ–º–µ–Ω–∞', '–≤—Ä–µ–º—ë–Ω', '–≤—Ä–µ–º–µ–Ω–∞–º', '–≤—Ä–µ–º–µ–Ω–∞–º–∏', '–≤—Ä–µ–º–µ–Ω–∞—Ö',
  '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å—É', '—á–∞—Å–æ–º', '—á–∞—Å–µ', '—á–∞—Å—ã', '—á–∞—Å–æ–≤', '—á–∞—Å–∞–º', '—á–∞—Å–∞–º–∏', '—á–∞—Å–∞—Ö',
  '–º–∏–Ω—É—Ç–∞', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç–µ', '–º–∏–Ω—É—Ç—É', '–º–∏–Ω—É—Ç–æ–π', '–º–∏–Ω—É—Ç', '–º–∏–Ω—É—Ç–∞–º', '–º–∏–Ω—É—Ç–∞–º–∏', '–º–∏–Ω—É—Ç–∞—Ö',
  '—Å–µ–∫—É–Ω–¥–∞', '—Å–µ–∫—É–Ω–¥—ã', '—Å–µ–∫—É–Ω–¥–µ', '—Å–µ–∫—É–Ω–¥—É', '—Å–µ–∫—É–Ω–¥–æ–π', '—Å–µ–∫—É–Ω–¥', '—Å–µ–∫—É–Ω–¥–∞–º', '—Å–µ–∫—É–Ω–¥–∞–º–∏', '—Å–µ–∫—É–Ω–¥–∞—Ö',
  '–Ω–µ–¥–µ–ª—è', '–Ω–µ–¥–µ–ª–∏', '–Ω–µ–¥–µ–ª–µ', '–Ω–µ–¥–µ–ª—é', '–Ω–µ–¥–µ–ª–µ–π', '–Ω–µ–¥–µ–ª—å', '–Ω–µ–¥–µ–ª—è–º', '–Ω–µ–¥–µ–ª—è–º–∏', '–Ω–µ–¥–µ–ª—è—Ö',
  '–º–µ—Å—è—Ü', '–º–µ—Å—è—Ü–∞', '–º–µ—Å—è—Ü—É', '–º–µ—Å—è—Ü–µ–º', '–º–µ—Å—è—Ü–µ', '–º–µ—Å—è—Ü—ã', '–º–µ—Å—è—Ü–µ–≤', '–º–µ—Å—è—Ü–∞–º', '–º–µ—Å—è—Ü–∞–º–∏', '–º–µ—Å—è—Ü–∞—Ö',
  '–≥–æ–¥', '–≥–æ–¥–∞', '–≥–æ–¥—É', '–≥–æ–¥–æ–º', '–≥–æ–¥–µ', '–≥–æ–¥—ã', '–ª–µ—Ç', '–≥–æ–¥–∞–º', '–≥–æ–¥–∞–º–∏', '–≥–æ–¥–∞—Ö',
  
  // –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
  '—Ç–µ–∫—Å—Ç', '—Ç–µ–∫—Å—Ç–∞', '—Ç–µ–∫—Å—Ç—É', '—Ç–µ–∫—Å—Ç–æ–º', '—Ç–µ–∫—Å—Ç–µ', '—Ç–µ–∫—Å—Ç—ã', '—Ç–µ–∫—Å—Ç–æ–≤', '—Ç–µ–∫—Å—Ç–∞–º', '—Ç–µ–∫—Å—Ç–∞–º–∏', '—Ç–µ–∫—Å—Ç–∞—Ö',
  '—Å–ª–æ–≤–æ', '—Å–ª–æ–≤–∞', '—Å–ª–æ–≤—É', '—Å–ª–æ–≤–æ–º', '—Å–ª–æ–≤–µ', '—Å–ª–æ–≤', '—Å–ª–æ–≤–∞–º', '—Å–ª–æ–≤–∞–º–∏', '—Å–ª–æ–≤–∞—Ö',
  '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏', '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö',
  '–∞–±–∑–∞—Ü', '–∞–±–∑–∞—Ü–∞', '–∞–±–∑–∞—Ü—É', '–∞–±–∑–∞—Ü–µ–º', '–∞–±–∑–∞—Ü–µ', '–∞–±–∑–∞—Ü—ã', '–∞–±–∑–∞—Ü–µ–≤', '–∞–±–∑–∞—Ü–∞–º', '–∞–±–∑–∞—Ü–∞–º–∏', '–∞–±–∑–∞—Ü–∞—Ö',
  '—Å—Ç—Ä–∞–Ω–∏—Ü–∞', '—Å—Ç—Ä–∞–Ω–∏—Ü—ã', '—Å—Ç—Ä–∞–Ω–∏—Ü–µ', '—Å—Ç—Ä–∞–Ω–∏—Ü—É', '—Å—Ç—Ä–∞–Ω–∏—Ü–µ–π', '—Å—Ç—Ä–∞–Ω–∏—Ü', '—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º', '—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏', '—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö',
  '–∫–Ω–∏–≥–∞', '–∫–Ω–∏–≥–∏', '–∫–Ω–∏–≥–µ', '–∫–Ω–∏–≥—É', '–∫–Ω–∏–≥–æ–π', '–∫–Ω–∏–≥', '–∫–Ω–∏–≥–∞–º', '–∫–Ω–∏–≥–∞–º–∏', '–∫–Ω–∏–≥–∞—Ö',
  '–¥–æ–∫—É–º–µ–Ω—Ç', '–¥–æ–∫—É–º–µ–Ω—Ç–∞', '–¥–æ–∫—É–º–µ–Ω—Ç—É', '–¥–æ–∫—É–º–µ–Ω—Ç–æ–º', '–¥–æ–∫—É–º–µ–Ω—Ç–µ', '–¥–æ–∫—É–º–µ–Ω—Ç—ã', '–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤', '–¥–æ–∫—É–º–µ–Ω—Ç–∞–º', '–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏', '–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö',
  '—Ñ–∞–π–ª', '—Ñ–∞–π–ª–∞', '—Ñ–∞–π–ª—É', '—Ñ–∞–π–ª–æ–º', '—Ñ–∞–π–ª–µ', '—Ñ–∞–π–ª—ã', '—Ñ–∞–π–ª–æ–≤', '—Ñ–∞–π–ª–∞–º', '—Ñ–∞–π–ª–∞–º–∏', '—Ñ–∞–π–ª–∞—Ö',
  '–ø—Ä–æ–≥—Ä–∞–º–º–∞', '–ø—Ä–æ–≥—Ä–∞–º–º—ã', '–ø—Ä–æ–≥—Ä–∞–º–º–µ', '–ø—Ä–æ–≥—Ä–∞–º–º—É', '–ø—Ä–æ–≥—Ä–∞–º–º–æ–π', '–ø—Ä–æ–≥—Ä–∞–º–º', '–ø—Ä–æ–≥—Ä–∞–º–º–∞–º', '–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏', '–ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö',
  '–∫–æ–º–ø—å—é—Ç–µ—Ä', '–∫–æ–º–ø—å—é—Ç–µ—Ä–∞', '–∫–æ–º–ø—å—é—Ç–µ—Ä—É', '–∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º', '–∫–æ–º–ø—å—é—Ç–µ—Ä–µ', '–∫–æ–º–ø—å—é—Ç–µ—Ä—ã', '–∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', '–∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º', '–∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º–∏', '–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö',
  '—Ä–µ–¥–∞–∫—Ç–æ—Ä', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞', '—Ä–µ–¥–∞–∫—Ç–æ—Ä—É', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ', '—Ä–µ–¥–∞–∫—Ç–æ—Ä—ã', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏', '—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö',
  
  // –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
  '–ø–æ–∏—Å–∫', '–ø–æ–∏—Å–∫–∞', '–ø–æ–∏—Å–∫—É', '–ø–æ–∏—Å–∫–æ–º', '–ø–æ–∏—Å–∫–µ', '–ø–æ–∏—Å–∫–∏', '–ø–æ–∏—Å–∫–æ–≤', '–ø–æ–∏—Å–∫–∞–º', '–ø–æ–∏—Å–∫–∞–º–∏', '–ø–æ–∏—Å–∫–∞—Ö',
  '–∑–∞–º–µ–Ω–∞', '–∑–∞–º–µ–Ω—ã', '–∑–∞–º–µ–Ω–µ', '–∑–∞–º–µ–Ω—É', '–∑–∞–º–µ–Ω–æ–π', '–∑–∞–º–µ–Ω', '–∑–∞–º–µ–Ω–∞–º', '–∑–∞–º–µ–Ω–∞–º–∏', '–∑–∞–º–µ–Ω–∞—Ö',
  '—à—Ä–∏—Ñ—Ç', '—à—Ä–∏—Ñ—Ç–∞', '—à—Ä–∏—Ñ—Ç—É', '—à—Ä–∏—Ñ—Ç–æ–º', '—à—Ä–∏—Ñ—Ç–µ', '—à—Ä–∏—Ñ—Ç—ã', '—à—Ä–∏—Ñ—Ç–æ–≤', '—à—Ä–∏—Ñ—Ç–∞–º', '—à—Ä–∏—Ñ—Ç–∞–º–∏', '—à—Ä–∏—Ñ—Ç–∞—Ö',
  '—Ü–≤–µ—Ç', '—Ü–≤–µ—Ç–∞', '—Ü–≤–µ—Ç—É', '—Ü–≤–µ—Ç–æ–º', '—Ü–≤–µ—Ç–µ', '—Ü–≤–µ—Ç–∞', '—Ü–≤–µ—Ç–æ–≤', '—Ü–≤–µ—Ç–∞–º', '—Ü–≤–µ—Ç–∞–º–∏', '—Ü–≤–µ—Ç–∞—Ö',
  '—Ä–∞–∑–º–µ—Ä', '—Ä–∞–∑–º–µ—Ä–∞', '—Ä–∞–∑–º–µ—Ä—É', '—Ä–∞–∑–º–µ—Ä–æ–º', '—Ä–∞–∑–º–µ—Ä–µ', '—Ä–∞–∑–º–µ—Ä—ã', '—Ä–∞–∑–º–µ—Ä–æ–≤', '—Ä–∞–∑–º–µ—Ä–∞–º', '—Ä–∞–∑–º–µ—Ä–∞–º–∏', '—Ä–∞–∑–º–µ—Ä–∞—Ö',
  '—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å', '—Å–æ—Ö—Ä–∞–Ω—é', '—Å–æ—Ö—Ä–∞–Ω–∏—à—å', '—Å–æ—Ö—Ä–∞–Ω–∏—Ç', '—Å–æ—Ö—Ä–∞–Ω–∏–º', '—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ', '—Å–æ—Ö—Ä–∞–Ω—è—Ç', '—Å–æ—Ö—Ä–∞–Ω–∏–ª', '—Å–æ—Ö—Ä–∞–Ω–∏–ª–∞', '—Å–æ—Ö—Ä–∞–Ω–∏–ª–æ', '—Å–æ—Ö—Ä–∞–Ω–∏–ª–∏',
  '–æ—Ç–∫—Ä—ã—Ç—å', '–æ—Ç–∫—Ä–æ—é', '–æ—Ç–∫—Ä–æ–µ—à—å', '–æ—Ç–∫—Ä–æ–µ—Ç', '–æ—Ç–∫—Ä–æ–µ–º', '–æ—Ç–∫—Ä–æ–µ—Ç–µ', '–æ—Ç–∫—Ä–æ—é—Ç', '–æ—Ç–∫—Ä—ã–ª', '–æ—Ç–∫—Ä—ã–ª–∞', '–æ—Ç–∫—Ä—ã–ª–æ', '–æ—Ç–∫—Ä—ã–ª–∏',
  '—Å–æ–∑–¥–∞—Ç—å', '—Å–æ–∑–¥–∞–º', '—Å–æ–∑–¥–∞—à—å', '—Å–æ–∑–¥–∞—Å—Ç', '—Å–æ–∑–¥–∞–¥–∏–º', '—Å–æ–∑–¥–∞–¥–∏—Ç–µ', '—Å–æ–∑–¥–∞–¥—É—Ç', '—Å–æ–∑–¥–∞–ª', '—Å–æ–∑–¥–∞–ª–∞', '—Å–æ–∑–¥–∞–ª–æ', '—Å–æ–∑–¥–∞–ª–∏',
  '—É–¥–∞–ª–∏—Ç—å', '—É–¥–∞–ª—é', '—É–¥–∞–ª–∏—à—å', '—É–¥–∞–ª–∏—Ç', '—É–¥–∞–ª–∏–º', '—É–¥–∞–ª–∏—Ç–µ', '—É–¥–∞–ª—è—Ç', '—É–¥–∞–ª–∏–ª', '—É–¥–∞–ª–∏–ª–∞', '—É–¥–∞–ª–∏–ª–æ', '—É–¥–∞–ª–∏–ª–∏',
  
  // –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã
  '–±–æ–ª—å—à–æ–π', '–±–æ–ª—å—à–∞—è', '–±–æ–ª—å—à–æ–µ', '–±–æ–ª—å—à–∏–µ', '–±–æ–ª—å—à–æ–≥–æ', '–±–æ–ª—å—à–æ–π', '–±–æ–ª—å—à–æ–º—É', '–±–æ–ª—å—à—É—é', '–±–æ–ª—å—à–∏–º', '–±–æ–ª—å—à–æ–º', '–±–æ–ª—å—à–∏—Ö', '–±–æ–ª—å—à–∏–º–∏',
  '–º–∞–ª–µ–Ω—å–∫–∏–π', '–º–∞–ª–µ–Ω—å–∫–∞—è', '–º–∞–ª–µ–Ω—å–∫–æ–µ', '–º–∞–ª–µ–Ω—å–∫–∏–µ', '–º–∞–ª–µ–Ω—å–∫–æ–≥–æ', '–º–∞–ª–µ–Ω—å–∫–æ–π', '–º–∞–ª–µ–Ω—å–∫–æ–º—É', '–º–∞–ª–µ–Ω—å–∫—É—é', '–º–∞–ª–µ–Ω—å–∫–∏–º', '–º–∞–ª–µ–Ω—å–∫–æ–º', '–º–∞–ª–µ–Ω—å–∫–∏—Ö', '–º–∞–ª–µ–Ω—å–∫–∏–º–∏',
  '—Ö–æ—Ä–æ—à–∏–π', '—Ö–æ—Ä–æ—à–∞—è', '—Ö–æ—Ä–æ—à–µ–µ', '—Ö–æ—Ä–æ—à–∏–µ', '—Ö–æ—Ä–æ—à–µ–≥–æ', '—Ö–æ—Ä–æ—à–µ–π', '—Ö–æ—Ä–æ—à–µ–º—É', '—Ö–æ—Ä–æ—à—É—é', '—Ö–æ—Ä–æ—à–∏–º', '—Ö–æ—Ä–æ—à–µ–º', '—Ö–æ—Ä–æ—à–∏—Ö', '—Ö–æ—Ä–æ—à–∏–º–∏',
  '–ø–ª–æ—Ö–æ–π', '–ø–ª–æ—Ö–∞—è', '–ø–ª–æ—Ö–æ–µ', '–ø–ª–æ—Ö–∏–µ', '–ø–ª–æ—Ö–æ–≥–æ', '–ø–ª–æ—Ö–æ–π', '–ø–ª–æ—Ö–æ–º—É', '–ø–ª–æ—Ö—É—é', '–ø–ª–æ—Ö–∏–º', '–ø–ª–æ—Ö–æ–º', '–ø–ª–æ—Ö–∏—Ö', '–ø–ª–æ—Ö–∏–º–∏',
  '–Ω–æ–≤—ã–π', '–Ω–æ–≤–∞—è', '–Ω–æ–≤–æ–µ', '–Ω–æ–≤—ã–µ', '–Ω–æ–≤–æ–≥–æ', '–Ω–æ–≤–æ–π', '–Ω–æ–≤–æ–º—É', '–Ω–æ–≤—É—é', '–Ω–æ–≤—ã–º', '–Ω–æ–≤–æ–º', '–Ω–æ–≤—ã—Ö', '–Ω–æ–≤—ã–º–∏',
  '—Å—Ç–∞—Ä—ã–π', '—Å—Ç–∞—Ä–∞—è', '—Å—Ç–∞—Ä–æ–µ', '—Å—Ç–∞—Ä—ã–µ', '—Å—Ç–∞—Ä–æ–≥–æ', '—Å—Ç–∞—Ä–æ–π', '—Å—Ç–∞—Ä–æ–º—É', '—Å—Ç–∞—Ä—É—é', '—Å—Ç–∞—Ä—ã–º', '—Å—Ç–∞—Ä–æ–º', '—Å—Ç–∞—Ä—ã—Ö', '—Å—Ç–∞—Ä—ã–º–∏',
  '–∫—Ä–∞—Å–∏–≤—ã–π', '–∫—Ä–∞—Å–∏–≤–∞—è', '–∫—Ä–∞—Å–∏–≤–æ–µ', '–∫—Ä–∞—Å–∏–≤—ã–µ', '–∫—Ä–∞—Å–∏–≤–æ–≥–æ', '–∫—Ä–∞—Å–∏–≤–æ–π', '–∫—Ä–∞—Å–∏–≤–æ–º—É', '–∫—Ä–∞—Å–∏–≤—É—é', '–∫—Ä–∞—Å–∏–≤—ã–º', '–∫—Ä–∞—Å–∏–≤–æ–º', '–∫—Ä–∞—Å–∏–≤—ã—Ö', '–∫—Ä–∞—Å–∏–≤—ã–º–∏',
  '—É–º–Ω—ã–π', '—É–º–Ω–∞—è', '—É–º–Ω–æ–µ', '—É–º–Ω—ã–µ', '—É–º–Ω–æ–≥–æ', '—É–º–Ω–æ–π', '—É–º–Ω–æ–º—É', '—É–º–Ω—É—é', '—É–º–Ω—ã–º', '—É–º–Ω–æ–º', '—É–º–Ω—ã—Ö', '—É–º–Ω—ã–º–∏',
  '–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π', '–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ', '–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É', '–ø—Ä–∞–≤–∏–ª—å–Ω—É—é', '–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º', '–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö', '–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏',
  '—Ä—É—Å—Å–∫–∏–π', '—Ä—É—Å—Å–∫–∞—è', '—Ä—É—Å—Å–∫–æ–µ', '—Ä—É—Å—Å–∫–∏–µ', '—Ä—É—Å—Å–∫–æ–≥–æ', '—Ä—É—Å—Å–∫–æ–π', '—Ä—É—Å—Å–∫–æ–º—É', '—Ä—É—Å—Å–∫—É—é', '—Ä—É—Å—Å–∫–∏–º', '—Ä—É—Å—Å–∫–æ–º', '—Ä—É—Å—Å–∫–∏—Ö', '—Ä—É—Å—Å–∫–∏–º–∏',
  
  // –¶–≤–µ—Ç–∞
  '–±–µ–ª—ã–π', '–±–µ–ª–∞—è', '–±–µ–ª–æ–µ', '–±–µ–ª—ã–µ', '–±–µ–ª–æ–≥–æ', '–±–µ–ª–æ–π', '–±–µ–ª–æ–º—É', '–±–µ–ª—É—é', '–±–µ–ª—ã–º', '–±–µ–ª–æ–º', '–±–µ–ª—ã—Ö', '–±–µ–ª—ã–º–∏',
  '—á—ë—Ä–Ω—ã–π', '—á—ë—Ä–Ω–∞—è', '—á—ë—Ä–Ω–æ–µ', '—á—ë—Ä–Ω—ã–µ', '—á—ë—Ä–Ω–æ–≥–æ', '—á—ë—Ä–Ω–æ–π', '—á—ë—Ä–Ω–æ–º—É', '—á—ë—Ä–Ω—É—é', '—á—ë—Ä–Ω—ã–º', '—á—ë—Ä–Ω–æ–º', '—á—ë—Ä–Ω—ã—Ö', '—á—ë—Ä–Ω—ã–º–∏',
  '–∫—Ä–∞—Å–Ω—ã–π', '–∫—Ä–∞—Å–Ω–∞—è', '–∫—Ä–∞—Å–Ω–æ–µ', '–∫—Ä–∞—Å–Ω—ã–µ', '–∫—Ä–∞—Å–Ω–æ–≥–æ', '–∫—Ä–∞—Å–Ω–æ–π', '–∫—Ä–∞—Å–Ω–æ–º—É', '–∫—Ä–∞—Å–Ω—É—é', '–∫—Ä–∞—Å–Ω—ã–º', '–∫—Ä–∞—Å–Ω–æ–º', '–∫—Ä–∞—Å–Ω—ã—Ö', '–∫—Ä–∞—Å–Ω—ã–º–∏',
  '—Å–∏–Ω–∏–π', '—Å–∏–Ω—è—è', '—Å–∏–Ω–µ–µ', '—Å–∏–Ω–∏–µ', '—Å–∏–Ω–µ–≥–æ', '—Å–∏–Ω–µ–π', '—Å–∏–Ω–µ–º—É', '—Å–∏–Ω—é—é', '—Å–∏–Ω–∏–º', '—Å–∏–Ω–µ–º', '—Å–∏–Ω–∏—Ö', '—Å–∏–Ω–∏–º–∏',
  '–∑–µ–ª—ë–Ω—ã–π', '–∑–µ–ª—ë–Ω–∞—è', '–∑–µ–ª—ë–Ω–æ–µ', '–∑–µ–ª—ë–Ω—ã–µ', '–∑–µ–ª—ë–Ω–æ–≥–æ', '–∑–µ–ª—ë–Ω–æ–π', '–∑–µ–ª—ë–Ω–æ–º—É', '–∑–µ–ª—ë–Ω—É—é', '–∑–µ–ª—ë–Ω—ã–º', '–∑–µ–ª—ë–Ω–æ–º', '–∑–µ–ª—ë–Ω—ã—Ö', '–∑–µ–ª—ë–Ω—ã–º–∏',
  '–∂—ë–ª—Ç—ã–π', '–∂—ë–ª—Ç–∞—è', '–∂—ë–ª—Ç–æ–µ', '–∂—ë–ª—Ç—ã–µ', '–∂—ë–ª—Ç–æ–≥–æ', '–∂—ë–ª—Ç–æ–π', '–∂—ë–ª—Ç–æ–º—É', '–∂—ë–ª—Ç—É—é', '–∂—ë–ª—Ç—ã–º', '–∂—ë–ª—Ç–æ–º', '–∂—ë–ª—Ç—ã—Ö', '–∂—ë–ª—Ç—ã–º–∏',
  
  // –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
  '—Å–∏—Å—Ç–µ–º–∞', '—Å–∏—Å—Ç–µ–º—ã', '—Å–∏—Å—Ç–µ–º–µ', '—Å–∏—Å—Ç–µ–º—É', '—Å–∏—Å—Ç–µ–º–æ–π', '—Å–∏—Å—Ç–µ–º', '—Å–∏—Å—Ç–µ–º–∞–º', '—Å–∏—Å—Ç–µ–º–∞–º–∏', '—Å–∏—Å—Ç–µ–º–∞—Ö',
  '–Ω–∞—Å—Ç—Ä–æ–π–∫–∏', '–Ω–∞—Å—Ç—Ä–æ–µ–∫', '–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º', '–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏', '–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö',
  '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö',
  '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–µ', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏', '–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞—Ö',
  '–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è', '–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏', '–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é', '–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π',
  '–ø–∞—Ä–æ–ª—å', '–ø–∞—Ä–æ–ª—è', '–ø–∞—Ä–æ–ª—é', '–ø–∞—Ä–æ–ª–µ–º', '–ø–∞—Ä–æ–ª–µ', '–ø–∞—Ä–æ–ª–∏', '–ø–∞—Ä–æ–ª–µ–π', '–ø–∞—Ä–æ–ª—è–º', '–ø–∞—Ä–æ–ª—è–º–∏', '–ø–∞—Ä–æ–ª—è—Ö',
  '–ª–æ–≥–∏–Ω', '–ª–æ–≥–∏–Ω–∞', '–ª–æ–≥–∏–Ω—É', '–ª–æ–≥–∏–Ω–æ–º', '–ª–æ–≥–∏–Ω–µ', '–ª–æ–≥–∏–Ω—ã', '–ª–æ–≥–∏–Ω–æ–≤', '–ª–æ–≥–∏–Ω–∞–º', '–ª–æ–≥–∏–Ω–∞–º–∏', '–ª–æ–≥–∏–Ω–∞—Ö',
  '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏', '–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö',
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–æ—É–ø–æ—Ç—Ä–µ–±–∏–º—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
  '—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', '—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', '–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ', '–≤—Å—Ç–∞–≤–∫–∞', '–≤—ã–¥–µ–ª–µ–Ω–∏–µ', '–∫—É—Ä—Å–æ—Ä', '—Å–∏–º–≤–æ–ª', '—Å—Ç—Ä–æ–∫–∞', '—Å—Ç—Ä–æ–∫–∏', '—Å—Ç—Ä–æ–∫–µ', '—Å—Ç—Ä–æ–∫—É', '—Å—Ç—Ä–æ–∫–æ–π', '—Å—Ç—Ä–æ–∫', '—Å—Ç—Ä–æ–∫–∞–º', '—Å—Ç—Ä–æ–∫–∞–º–∏', '—Å—Ç—Ä–æ–∫–∞—Ö',
  '–ø—Ä–æ–≤–µ—Ä–∫–∞', '–ø—Ä–æ–≤–µ—Ä–∫–∏', '–ø—Ä–æ–≤–µ—Ä–∫—É', '–ø—Ä–æ–≤–µ—Ä–∫–æ–π', '–ø—Ä–æ–≤–µ—Ä–∫–µ', '–ø—Ä–æ–≤–µ—Ä–æ–∫', '–ø—Ä–æ–≤–µ—Ä–∫–∞–º', '–ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏', '–ø—Ä–æ–≤–µ—Ä–∫–∞—Ö',
  '–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è', '–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏', '–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é', '–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–µ–π',
  '–æ—à–∏–±–∫–∞', '–æ—à–∏–±–∫–∏', '–æ—à–∏–±–∫–µ', '–æ—à–∏–±–∫—É', '–æ—à–∏–±–∫–æ–π', '–æ—à–∏–±–æ–∫', '–æ—à–∏–±–∫–∞–º', '–æ—à–∏–±–∫–∞–º–∏', '–æ—à–∏–±–∫–∞—Ö',
  '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏', '–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö',
  '—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—é', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏–π', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö',
  '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏', '—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è—Ö',
  '–∑–∞–≥—Ä—É–∑–∫–∞', '–∑–∞–≥—Ä—É–∑–∫–∏', '–∑–∞–≥—Ä—É–∑–∫–µ', '–∑–∞–≥—Ä—É–∑–∫—É', '–∑–∞–≥—Ä—É–∑–∫–æ–π', '–∑–∞–≥—Ä—É–∑–æ–∫', '–∑–∞–≥—Ä—É–∑–∫–∞–º', '–∑–∞–≥—Ä—É–∑–∫–∞–º–∏', '–∑–∞–≥—Ä—É–∑–∫–∞—Ö',
  '—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ', '—Å–∫–∞—á–∏–≤–∞–Ω–∏—è', '—Å–∫–∞—á–∏–≤–∞–Ω–∏—é', '—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º', '—Å–∫–∞—á–∏–≤–∞–Ω–∏–∏', '—Å–∫–∞—á–∏–≤–∞–Ω–∏–π', '—Å–∫–∞—á–∏–≤–∞–Ω–∏—è–º', '—Å–∫–∞—á–∏–≤–∞–Ω–∏—è–º–∏', '—Å–∫–∞—á–∏–≤–∞–Ω–∏—è—Ö'
]);

// –¢–∏–ø–∏—á–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤
const russianSuffixes = [
  // –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
  '–∞–Ω–∏–µ', '–µ–Ω–∏–µ', '–æ—Å—Ç—å', '–µ–Ω–∏–µ', '—Ç–µ–ª—å', '—â–∏–∫', '—á–∏–∫', '–Ω–∏–∫', '–∏—Ü–∞', '–∫–∞', '–æ—á–∫–∞', '–µ—á–∫–∞', '—É—à–∫–∞', '—é—à–∫–∞', '–µ–Ω–æ–∫', '—ë–Ω–æ–∫', '–æ–∫', '–µ–∫', '–∏–∫', '–µ—Ü', '–∞–∫', '—è–∫', '–∏—á', '–∏—á', '–∞—á', '—è—á',
  // –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ
  '–Ω—ã–π', '–Ω–æ–π', '–∏–π', '–∞—è', '–æ–µ', '—ã–µ', '—Å–∫–∏–π', '—Ü–∫–∏–π', '–µ–Ω–Ω—ã–π', '–∞–Ω–Ω—ã–π', '—è–Ω—ã–π', '–æ–≤—ã–π', '–µ–≤—ã–π', '–∏–≤—ã–π', '–ª–∏–≤—ã–π', '—á–∏–≤—ã–π', '–∏—Å—Ç—ã–π', '–∞—Å—Ç—ã–π',
  // –ì–ª–∞–≥–æ–ª—ã
  '–∞—Ç—å', '—è—Ç—å', '–∏—Ç—å', '–µ—Ç—å', '–æ—Ç—å', '—É—Ç—å', '—Ç–∏', '—á—å', '–∞—Ç—å', '—è—Ç—å', '–∏—Ç—å', '–µ—Ç—å', '–æ—Ç—å', '—É—Ç—å'
];

// –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã
const russianPrefixes = [
  '–Ω–µ', '–ø—Ä–µ', '–ø—Ä–∏', '–ø–æ–¥', '–Ω–∞–¥', '–æ—Ç', '–¥–æ', '–∑–∞', '–≤—ã', '–ø–æ', '–ø—Ä–æ', '–ø–µ—Ä–µ', '—Å', '—Å–æ', '–≤', '–≤–æ', 
  '—Ä–∞–∑', '—Ä–∞—Å', '–±–µ–∑', '–±–µ—Å', '–∏–∑', '–∏—Å', '–≤–æ–∑', '–≤–æ—Å', '–Ω–∏–∑', '–Ω–∏—Å', '–æ–±–æ', '–æ–±', '–ø—Ä–µ–¥', '—á–µ—Ä–µ–∑'
];

export function SpellChecker({ isOpen, onClose, content }: SpellCheckerProps) {
  const [errors, setErrors] = useState<SpellError[]>([]);
  const [isChecking, setIsChecking] = useState(false);
  const [currentErrorIndex, setCurrentErrorIndex] = useState(0);

  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–ª–æ–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —Ä—É—Å—Å–∫–∏–º —Å–ª–æ–≤–æ–º
  const isWordCorrect = useCallback((word: string): boolean => {
    const cleanWord = word.toLowerCase().trim();
    
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–ª–æ–≤–∞, —á–∏—Å–ª–∞, —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è, —Å–ª–æ–≤–∞ —Å –¥–µ—Ñ–∏—Å–æ–º
    if (cleanWord.length < 2) return true;
    if (/^\d+$/.test(cleanWord)) return true;
    if (/^[–ê-–Ø–Å]{2,}\.?$/.test(word)) return true; // –ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã
    if (cleanWord.includes('-')) return true; // –°–ª–æ–≤–∞ —Å –¥–µ—Ñ–∏—Å–æ–º
    if (cleanWord.includes('_')) return true; // –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
    if (!/^[–∞-—è—ë]+$/i.test(cleanWord)) return true; // –ù–µ —Ä—É—Å—Å–∫–∏–µ —Å–ª–æ–≤–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ
    if (russianDict.has(cleanWord)) return true;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º—ã
    return checkWordMorphology(cleanWord);
  }, []);

  // –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
  const checkWordMorphology = (word: string): boolean => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–æ–≤–∞ —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏
    for (const suffix of russianSuffixes) {
      if (word.endsWith(suffix) && word.length > suffix.length + 2) {
        const stem = word.slice(0, -suffix.length);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤—É –≤ —Å–ª–æ–≤–∞—Ä–µ
        if (russianDict.has(stem)) return true;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º—ã —Å —ç—Ç–æ–π –æ—Å–Ω–æ–≤–æ–π
        for (const checkSuffix of russianSuffixes.slice(0, 20)) { // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
          if (russianDict.has(stem + checkSuffix)) return true;
        }
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–æ–≤–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏
    for (const prefix of russianPrefixes) {
      if (word.startsWith(prefix) && word.length > prefix.length + 2) {
        const withoutPrefix = word.slice(prefix.length);
        if (russianDict.has(withoutPrefix)) return true;
        
        // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–≤–∞ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞
        if (checkWordMorphology(withoutPrefix)) return true;
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–¥–≤–æ–µ–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω—ã–µ (—Å—Å, –Ω–Ω, –ª–ª, –∏ —Ç.–¥.)
    const withoutDoubles = word.replace(/([–±–≤–≥–¥–∂–∑–∫–ª–º–Ω–ø—Ä—Å—Ç—Ñ—Ö—Ü—á—à—â])\1/g, '$1');
    if (withoutDoubles !== word && russianDict.has(withoutDoubles)) return true;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–º–µ–Ω—É —ë –Ω–∞ –µ
    if (word.includes('–µ')) {
      const withYo = word.replace(/–µ/g, '—ë');
      if (russianDict.has(withYo)) return true;
    }
    if (word.includes('—ë')) {
      const withE = word.replace(/—ë/g, '–µ');
      if (russianDict.has(withE)) return true;
    }
    
    return false;
  };

  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  const getSuggestions = useCallback((word: string): string[] => {
    const suggestions: string[] = [];
    const lowercaseWord = word.toLowerCase();
    
    // 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫
    const fixedWord = fixCommonErrors(lowercaseWord);
    if (fixedWord !== lowercaseWord && russianDict.has(fixedWord)) {
      suggestions.push(fixedWord);
    }
    
    // 2. –ü–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞
    const closeMatches: string[] = [];
    for (const dictWord of russianDict) {
      if (dictWord === lowercaseWord) continue;
      
      const distance = getLevenshteinDistance(lowercaseWord, dictWord);
      if (distance <= 2 && distance > 0 && dictWord.length >= lowercaseWord.length - 2) {
        closeMatches.push(dictWord);
      }
      
      if (closeMatches.length >= 10) break; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    }
    
    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–ª–∏–Ω–µ (–±–ª–∏–∂–µ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É)
    closeMatches.sort((a, b) => Math.abs(a.length - lowercaseWord.length) - Math.abs(b.length - lowercaseWord.length));
    suggestions.push(...closeMatches.slice(0, 3));
    
    // 3. –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
    const morphVariants = getMorphologicalVariants(lowercaseWord);
    suggestions.push(...morphVariants);
    
    // –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    return [...new Set(suggestions)].slice(0, 4);
  }, []);

  // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫
  const fixCommonErrors = (word: string): string => {
    const replacements: Record<string, string> = {
      // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–µ
      'a': '–∞', 'e': '–µ', 'o': '–æ', 'p': '—Ä', 'c': '—Å', 'y': '—É', 
      'x': '—Ö', 'k': '–∫', 'h': '–Ω', 'b': '–≤', 'm': '–º', 't': '—Ç',
      // –ß–∞—Å—Ç–æ –ø—É—Ç–∞–µ–º—ã–µ –±—É–∫–≤—ã
      '–∏': '–π', '–π': '–∏', '–µ': '—ë', '—ë': '–µ',
      // –£–¥–≤–æ–µ–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω—ã–µ
      '—Å—Å': '—Å', '–Ω–Ω': '–Ω', '–ª–ª': '–ª', '–º–º': '–º', '—Ä—Ä': '—Ä'
    };
    
    let result = word;
    for (const [wrong, correct] of Object.entries(replacements)) {
      result = result.replace(new RegExp(wrong, 'g'), correct);
    }
    
    return result;
  };

  // –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
  const getMorphologicalVariants = (word: string): string[] => {
    const variants: string[] = [];
    
    // –ï—Å–ª–∏ —Å–ª–æ–≤–æ –¥–ª–∏–Ω–Ω–æ–µ, –ø–æ–ø—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è
    if (word.length > 4) {
      const stem = word.slice(0, -2);
      
      // –ü–æ–ø—Ä–æ–±—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è
      const endings = ['–∞', '—è', '—ã', '–∏', '–µ', '—ë', '–æ', '—É', '—é', '–æ–π', '–µ–π', '—ã–π', '–∏–π', '–∞—è', '—è—è', '–æ–µ', '–µ–µ'];
      
      for (const ending of endings) {
        const variant = stem + ending;
        if (russianDict.has(variant)) {
          variants.push(variant);
          if (variants.length >= 2) break; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º
        }
      }
    }
    
    return variants;
  };

  // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
  const getLevenshteinDistance = (str1: string, str2: string): number => {
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –µ—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –¥–ª–∏–Ω–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è
    if (Math.abs(str1.length - str2.length) > 3) return 99;
    
    const matrix = Array(str2.length + 1).fill(null).map(() => Array(str1.length + 1).fill(null));
    
    for (let i = 0; i <= str1.length; i++) matrix[0][i] = i;
    for (let j = 0; j <= str2.length; j++) matrix[j][0] = j;
    
    for (let j = 1; j <= str2.length; j++) {
      for (let i = 1; i <= str1.length; i++) {
        const indicator = str1[i - 1] === str2[j - 1] ? 0 : 1;
        matrix[j][i] = Math.min(
          matrix[j][i - 1] + 1,     // –≤—Å—Ç–∞–≤–∫–∞
          matrix[j - 1][i] + 1,     // —É–¥–∞–ª–µ–Ω–∏–µ
          matrix[j - 1][i - 1] + indicator  // –∑–∞–º–µ–Ω–∞
        );
      }
    }
    
    return matrix[str2.length][str1.length];
  };

  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏
  const checkSpelling = useCallback(() => {
    setIsChecking(true);
    const foundErrors: SpellError[] = [];
    
    // –ù–∞—Ö–æ–¥–∏–º —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ —Å–ª–æ–≤–∞ (—É–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–µ–≥–µ–∫—Å)
    const russianWordRegex = /[–∞-—è—ë]+/gi;
    let match;
    
    while ((match = russianWordRegex.exec(content)) !== null) {
      const word = match[0];
      const position = match.index;
      
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
      if (word.length >= 2 && !isWordCorrect(word)) {
        const suggestions = getSuggestions(word);
        foundErrors.push({
          word,
          position,
          suggestions
        });
      }
    }
    
    setErrors(foundErrors);
    setCurrentErrorIndex(0);
    setIsChecking(false);
  }, [content, isWordCorrect, getSuggestions]);

  // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
  const fixError = useCallback((errorIndex: number, replacement: string) => {
    const error = errors[errorIndex];
    if (!error) return;
    
    const fixEvent = new CustomEvent('spell-fix', {
      detail: {
        position: error.position,
        word: error.word,
        replacement: replacement
      }
    });
    window.dispatchEvent(fixEvent);
    
    const newErrors = errors.filter((_, index) => index !== errorIndex);
    setErrors(newErrors);
    
    if (currentErrorIndex >= newErrors.length && newErrors.length > 0) {
      setCurrentErrorIndex(newErrors.length - 1);
    }
  }, [errors, currentErrorIndex]);

  // –ü—Ä–æ–ø—É—Å–∫ –æ—à–∏–±–∫–∏
  const skipError = useCallback((errorIndex: number) => {
    const newErrors = errors.filter((_, index) => index !== errorIndex);
    setErrors(newErrors);
    
    if (currentErrorIndex >= newErrors.length && newErrors.length > 0) {
      setCurrentErrorIndex(newErrors.length - 1);
    }
  }, [errors, currentErrorIndex]);

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  useEffect(() => {
    if (isOpen && content) {
      const timeoutId = setTimeout(() => {
        checkSpelling();
      }, 1000); // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
      
      return () => clearTimeout(timeoutId);
    }
  }, [content, isOpen, checkSpelling]);

  if (!isOpen) return null;

  const currentError = errors[currentErrorIndex];

  return (
    <div className="border-b bg-secondary/50 p-4 space-y-4">
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-2">
          <BookOpen className="h-4 w-4" />
          <h3 className="text-sm font-medium">–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏ (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)</h3>
          {isChecking && (
            <div className="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin" />
          )}
        </div>
        <Button variant="ghost" size="sm" onClick={onClose}>
          <X className="h-4 w-4" />
        </Button>
      </div>

      <div className="flex items-center gap-2">
        <Button
          variant="outline"
          size="sm"
          onClick={checkSpelling}
          disabled={isChecking}
        >
          {isChecking ? '–ü—Ä–æ–≤–µ—Ä–∫–∞...' : '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω–æ–≤–æ'}
        </Button>
        
        <Badge variant={errors.length > 0 ? "destructive" : "default"} className="gap-1">
          {errors.length > 0 ? (
            <XCircle className="h-3 w-3" />
          ) : (
            <CheckCircle className="h-3 w-3" />
          )}
          {errors.length === 0 ? '–û—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ' : `–ù–∞–π–¥–µ–Ω–æ –æ—à–∏–±–æ–∫: ${errors.length}`}
        </Badge>
      </div>

      {errors.length > 0 && currentError && (
        <div className="space-y-3 p-3 border rounded-lg bg-background">
          <div className="flex items-center justify-between">
            <span className="text-sm text-muted-foreground">
              –û—à–∏–±–∫–∞ {currentErrorIndex + 1} –∏–∑ {errors.length}
            </span>
            <div className="flex gap-1">
              <Button
                variant="outline"
                size="sm"
                onClick={() => setCurrentErrorIndex(Math.max(0, currentErrorIndex - 1))}
                disabled={currentErrorIndex === 0}
              >
                ‚Üê
              </Button>
              <Button
                variant="outline"
                size="sm"
                onClick={() => setCurrentErrorIndex(Math.min(errors.length - 1, currentErrorIndex + 1))}
                disabled={currentErrorIndex === errors.length - 1}
              >
                ‚Üí
              </Button>
            </div>
          </div>

          <div className="space-y-2">
            <div className="flex items-center gap-2">
              <span className="text-sm">–í–æ–∑–º–æ–∂–Ω–∞—è –æ—à–∏–±–∫–∞:</span>
              <Badge variant="destructive">{currentError.word}</Badge>
            </div>

            {currentError.suggestions.length > 0 && (
              <div className="space-y-2">
                <span className="text-sm">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:</span>
                <div className="flex flex-wrap gap-2">
                  {currentError.suggestions.map((suggestion, index) => (
                    <Button
                      key={index}
                      variant="outline"
                      size="sm"
                      onClick={() => fixError(currentErrorIndex, suggestion)}
                      className="text-sm"
                    >
                      {suggestion}
                    </Button>
                  ))}
                </div>
              </div>
            )}

            <div className="flex gap-2 pt-2">
              <Button
                variant="secondary"
                size="sm"
                onClick={() => skipError(currentErrorIndex)}
              >
                –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
              </Button>
            </div>
          </div>
        </div>
      )}

      <div className="text-xs text-muted-foreground bg-muted/50 p-2 rounded">
        üí° <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong> –£—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—é —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤. 
        –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç, —á–∏—Å–ª–∞, –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
      </div>
    </div>
  );
}